params {
    save                = true
    saveDir             = "/home/campbell/Documents/Rudolph/pipeline-output"
    publish_dir_mode    = "copy"
    prot                = "data/uniprot-keyword Virus+entry+into+host+cell+[KW-1160] +fragment no.tab.gz"
    protedi             = "data/Viral+attachment+to+host+cell+[KW-1161].tab.gz"
    ncbiVirus           = "data/sequences.csv"
    eID                 = "data/virus_host_4rm_untitled.csv"
    virusDB             = "data/virushostdb.tsv"
    fasta               = "data/uniprot-keyword Virus+entry+into+host+cell+[KW-1160] +fragment no.fasta"
}

singularity {
    enabled         = true
}

// workflow.container       = "/home/campbell/Documents/Rudolph/containers/Zoon0Pred.sif"
// workflow.containerEngine = "singularity"
// workflow.workDir         = "/home/campbell/Documents/Rudolph/work"

process {
    withName: "ChaosGameRepresentation" {
        container           = "../containers/R-Zoon0Pred.sif"
    }
    withName: "ModelTraining|PrepData" {
        container           = "../containers/GPU-Zoon0Pred.sif"
        containerOptions    = "--nv"
    }
    // container            = "/home/campbell/Documents/Rudolph/containers/Zoon0Pred.sif"
    // containerOptions     = { workflow.containerEngine == "singularity" ? "--nv":
    //                        ( workflow.containerEngine == "docker" ? "--gpus all": null ) }
    // errorStrategy        = "ignore" // { sleep(3000); return 'retry' } // Dynamic Retry with backoff
}

// Load base.config by default for all pipelines
includeConfig "conf/base.config"

// Trace

// Mail

// DAG graph

// Report

manifest {
    author          = "Rudolph Serage"
    description     = "Pipeline does this and that"
    mainScript      = "main.nf"
    version         = "1.0.0"
    doi             = ""
    // nextflowVersion = ""
}
